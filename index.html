<!DOCTYPE html>
<!-- Listen here you little computer nerd i dont know who you are or why your in my source code but i want to make something straight this was my idea and so help me god if you copy me i might come for your faimly (for legal reasons thats a joke) ALSOOOO if your a sage web dev and your mad beacuse how many requests this is doing i will gadly take it down just feel free to contact me at jackunderwood@jackunderwood.org or underwoodja@bearsmail.org and tell me your issue and i will comply happly (or you could just give me cross orgin reacure sharing (cors) accscec hehehehe) -->
<html>
<head>
<title>HIES Menu - Coded by Jack Underwood</title>
<meta name="description" content="The Holy Innocent’s Episcopal School’s lunch menu - Coded by Jack Underwood.">
<link rel="icon" type="image/x-icon" sizes="48x48" href="/favicon.ico">
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/site.webmanifest">
<script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
<script>jQuery.ajaxPrefilter(function(options) {
    if (options.crossDomain && jQuery.support.cors) {
        options.url = 'https://cors-anywhere.herokuapp.com/' + options.url;
    }
});
</script>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Amatic+SC">
<style>
body, html {height: 100%}
body,h1,h2,h3,h4,h5,h6 {font-family: "Amatic SC", sans-serif}
.menu {display: none}
/* a, .menu, h2 {
  visibility: hidden;
}
*/
.bgimg {
  background-repeat: no-repeat;
  background-size: cover;
  background-image: url("/w3images/pizza.jpg");
  min-height: 90%;;
}
.l{
  text-align: center;
}
</style>
</head>
<body>
<!-- Menu Container -->
<div class="w3-container w3-black w3-padding-64 w3-xxlarge" id="menu">
  <div class="w3-content">
  
    <h1 class="w3-center w3-jumbo" style="margin-bottom:-10px">The HIES Lunch Menu</h1>
<h1 class="w3-center w3-jumbo" style="margin-bottom:-10px"><div id="weekend"></div></h1>
    <h2 class="w3-center w3-xlarge" style="margin-bottom:-10px">Made by Jack Underwood</h2>
    <h2 class="w3-center w3-xxlarge" style="margin-bottom:-10px; font-style: italic;"><div class="jackiscool"></div></h2>
    <h2 class="w3-center w3-xxxlarge" style="margin-bottom:0px"><div class="specialtitle"></div></h2>
    <h2 class="w3-center w3-jum" style="margin-bottom:64px"><div class="special"></div></h2>
    <h1 class="w3-center w3-jumbo" style="margin-bottom:-10px"></h1>
    <h1 class="w3-center w3-jumbo" style="margin-bottom:-10px"></h1>
    <!-- <div class="l"><h3><a href="https://cors-anywhere.herokuapp.com/" style="text-align: center" style="margin: bottom -20px;" title="W3.CSS" target="_blank" class="w3-hover-text-green">If it's not loading click me</a></h3></div> -->
    <div class="w3-row w3-center w3-border w3-border-dark-grey">
      <a href="javascript:void(0)" onclick="openMenu(event, 'Pizza');" id="myLink">
        <div class="w3-col s4 tablink w3-padding-large w3-hover-red">Main Food</div>
      </a>
      <a href="javascript:void(0)" onclick="openMenu(event, 'Pasta');">
        <div class="w3-col s4 tablink w3-padding-large w3-hover-red">SIDES AND VEGETABLES</div>
      </a>
      <a href="javascript:void(0)" onclick="openMenu(event, 'Starter');">
        <div class="w3-col s4 tablink w3-padding-large w3-hover-red">Deli and Soup</div>
      </a>
    </div>

<!--MAIN-->

    <div id="Pizza" class="w3-container menu w3-padding-32 w3-white">
      
      <h1><b><div class="main0"></div></b></h1>
      <p class="w3-text-grey"><div class="maining0"></div></p>
      <hr>
   
      <h1><b><div class="main1"></div></b></h1>
      <p class="w3-text-grey"><div class="maining1"></div></p>
      <hr>
      
      <h1><b><div class="main2"></div></b></h1>
      <p class="w3-text-grey"><div class="maining2"></div></p>
      <hr>

      <h1><b><div class="main3"></div></b></h1>
      <p class="w3-text-grey"><div class="maining3"></div></p>
      <hr>
    </div>

    <!--SIDES-->

    <div id="Pasta" class="w3-container menu w3-padding-32 w3-white">
      <h1><b><div class="side0"></div></b></h1>
      <p class="w3-text-grey"><div class="sideing0"></div></p>
      <hr>
    
      <h1><b><div class="side1"></div></b></h1>
      <p class="w3-text-grey"><div class="sideing1"></div></p>
      <hr>
      
      <h1><b><div class="side2"></div></b></h1>
      <p class="w3-text-grey"><div class="sideing2"></div></p>
      <hr>
    
      <h1><b><div class="side3"></div></b></h1>
      <p class="w3-text-grey"><div class="sideing3"></div></p>
      <hr>
      
      <h1><b><div class="side4"></div></b></h1>
      <p class="w3-text-grey"><div class="sideing4"></div></p>
      <hr>
      
      <h1><b><div class="side5"></div></b></h1>
      <p class="w3-text-grey"><div class="sideing5"></div></p>
      <hr>
      
      <h1><b><div class="side6"></div></b></h1>
      <p class="w3-text-grey"><div class="sideing6"></div></p>
      <hr>
      
      <h1><b><div class="side7"></div></b></h1>
      <p class="w3-text-grey"><div class="sideing7"></div></p>
      <hr>
      
      <h1><b><div class="side8"></div></b></h1>
      <p class="w3-text-grey"><div class="sideing8"></div></p>
      <hr>
      
      <h1><b><div class="side9"></div></b></h1>
      <p class="w3-text-grey"><div class="sideing9"></div></p>
      <hr>
      
    </div>

 <!--DELI AND SOUP -->

 <div id="Starter" class="w3-container menu w3-padding-32 w3-white">
  <h1><b><div class="soup0"></div></b></h1>
  <p class="w3-text-grey"><div class="souping0"></div></p>
  <hr>

  <h1><b><div class="soup1"></div></b></h1>
  <p class="w3-text-grey"><div class="souping1"></div></p>
  <hr>
  
  <h1><b><div class="deli0"></div></b></h1>
  <p class="w3-text-grey"><div class="deliing0"></div></p>
  <hr>

  <h1><b><div class="deli1"></div></b></h1>
  <p class="w3-text-grey"><div class="deliing1"></div></p>
  <hr>
  
  <h1><b><div class="deli2"></div></b></h1>
  <p class="w3-text-grey"><div class="deliing2"></div></p>
  <hr>
  
  <h1><b><div class="deli3"></div></b></h1>
  <p class="w3-text-grey"><div class="deliing3"></div></p>
  <hr>
  
  <h1><b><div class="deli4"></div></b></h1>
  <p class="w3-text-grey"><div class="deliing4"></div></p>
  <hr>
  
</div>
<!-- Footer -->
<footer class="w3-center w3-black w3-padding-48 w3-xxlarge">
   <a href="https://medium.com/@underwoodjack185/how-i-took-my-schools-lunch-menu-and-hosted-it-on-my-own-custom-website-628b54e76808" title="Vist the blog" target="_blank" class="w3-hover-text-green">LEARN ABOUT HOW THIS WAS MADE WITH MY BLOG</a></p>
  <!--  <a href="https://vote.jackunderwood.org/" style="margin: bottom -60px;" title="Learn About His Amazing Ideas" target="_blank" class="w3-hover-text-green">Learn more about his ideas</a></p>-->
</footer>

<script>
  // Tabbed Menu
  function openMenu(evt, menuName) {
    var i, x, tablinks;
    x = document.getElementsByClassName("menu");
    for (i = 0; i < x.length; i++) {
       x[i].style.display = "none";
    }
    tablinks = document.getElementsByClassName("tablink");
    for (i = 0; i < x.length; i++) {
       tablinks[i].className = tablinks[i].className.replace(" w3-red", "");
    }
    document.getElementById(menuName).style.display = "block";
    evt.currentTarget.firstElementChild.className += " w3-red";
  }
  document.getElementById("myLink").click();
  </script>
<script>
const today = new Date();
const yyyy = today.getFullYear();
let mm = today.getMonth() + 1; // Months start at 0!
let dd = today.getDate();
var todayy = new Date();
if (dd < 10) dd = '0' + dd;
if (mm < 10) mm = '0' + mm;
if(todayy.getDay() == 6) { 
  var weekend = `true`;
  var dddd = +dd + 2;
  if (/^\d$/.test(dddd))  {
  var dddd = "0" + dddd
}
  let message0 = `It's Saturday so this is the Menu for Monday`
  $(".jackiscool").html(message0);
} else if(todayy.getDay() == 0) {
  var weekend = `true`;
  var dddd = +dd + 1;
   if (/^\d$/.test(dddd))  {
  var dddd = "0" + dddd
}
  let message = `It's Sunday so this is the Menu for Monday`
  $(".jackiscool").html(message);
} else {
  var weekend = `false`;
  var dddd = dd;
}

const formattedToday = mm + '/' + dddd + '/' + yyyy;
console.log(formattedToday)

//console.log("Is it a weeekend? " + weekend)
//if (weekend === "true"){
//  document.getElementById(a).style.display = 'hidden';
//  document.getElementById(menu).style.display = 'hidden';
//  document.getElementById(h2).style.display = 'hidden';
 // console.log("ITSA WEEKEND GET OFF MY WEBSITE BOZO")
//}
//https://pacific-reaches-07351.herokuapp.com
//https://fast-dawn-89938.herokuapp.com/

mylink = "https://pacific-reaches-07351.herokuapp.com/https://www.sagedining.com/microsites/getMenuItems?menuId=110277&date=" + formattedToday + "&meal=Lunch";
//mylink = "http://time.jsontest.com/"
istheresomething = `false`
console.log(mylink)
//try {
 // $.get(mylink);
 // console.log("SUCCSES FOR TRY get LINK");
//} catch(error){
 //window.location.replace("http://fooderror.jackunderwood.org");
	 // console.log("EROOR CANT GET LINK")
//}

$.get(mylink, function(data) {
 istheresomething = `true`
  //special
 var special = `${data.Specials[0]?.name}`
//main
var main0 = `${data["Entrées"][0]?.name}`
var maining0 = `${data["Entrées"][0]?.displayStation}`
var main1 = `${data["Entrées"][1]?.name}`
var maining1 = `${data["Entrées"][1]?.displayStation}`
var main2 = `${data["Entrées"][2]?.name}`
var maining2 = `${data["Entrées"][2]?.displayStation}`
var main3 = `${data["Entrées"][3]?.name}`
var maining3 = `${data["Entrées"][3]?.displayStation}`

//sides
var side0 = `${data["Sides and Vegetables"][0]?.name}`
var sideing0 = `${data["Sides and Vegetables"][0]?.displayStation}`
var side1 = `${data["Sides and Vegetables"][1]?.name}`
var sideing1 = `${data["Sides and Vegetables"][1]?.displayStation}`
var side2 = `${data["Sides and Vegetables"][2]?.name}`
var sideing2 = `${data["Sides and Vegetables"][2]?.displayStation}`
var side3 = `${data["Sides and Vegetables"][3]?.name}`
var sideing3 = `${data["Sides and Vegetables"][3]?.displayStation}`
var side4 = `${data["Sides and Vegetables"][4]?.name}`
var sideing4 = `${data["Sides and Vegetables"][4]?.displayStation}`
var side5 = `${data["Sides and Vegetables"][5]?.name}`
var sideing5 = `${data["Sides and Vegetables"][5]?.displayStation}`
var side6 = `${data["Sides and Vegetables"][6]?.name}`
var sideing6 = `${data["Sides and Vegetables"][6]?.displayStation}`
var side7 = `${data["Sides and Vegetables"][7]?.name}`
var sideing7 = `${data["Sides and Vegetables"][7]?.displayStation}`
var side8 = `${data["Sides and Vegetables"][8]?.name}`
var sideing8 = `${data["Sides and Vegetables"][8]?.displayStation}`
var side9 = `${data["Sides and Vegetables"][9]?.name}`
var sideing9 = `${data["Sides and Vegetables"][9]?.displayStation}`


//special
if (special === "undefined"){
  console.log("There is no special")
} else {
  console.log(special)
  $(".special").html(special);
  $(".specialtitle").html("Today's Special is");
}

// Deli and Soup
var soup0 = `${data.Soups[0]?.name}`
var souping0 = `${data.Soups[0]?.displayStation}`
var soup1 = `${data.Soups[1]?.name}`
var souping1 = `${data.Soups[1]?.displayStation}`
var deli0 = `${data.Deli[0]?.name}`
var deliing0 = `${data.Deli[0]?.displayStation}`
var deli1 = `${data.Deli[1]?.name}`
var deliing1 = `${data.Deli[1]?.displayStation}`
var deli2 = `${data.Deli[2]?.name}`
var deliing2 = `${data.Deli[2]?.displayStation}`
var deli3 = `${data.Deli[3]?.name}`
var deliing3 = `${data.Deli[3]?.displayStation}`
var deli4 = `${data.Deli[4]?.name}`
var deliing4 = `${data.Deli[4]?.displayStation}`

//main
$(".main0").html(main0);
$(".maining0").html(maining0);
$(".main1").html(main1);
$(".maining1").html(maining1);
$(".main2").html(main2);
$(".maining2").html(maining2);
$(".main3").html(main3);
$(".maining3").html(maining3);

//sides
$(".side0").html(side0);
$(".sideing0").html(sideing0);
$(".side1").html(side1);
$(".sideing1").html(sideing1);
$(".side2").html(side2);
$(".sideing2").html(sideing2);
$(".side3").html(side3);
$(".sideing3").html(sideing3);
$(".side4").html(side4);
$(".sideing4").html(sideing4);
$(".side5").html(side5);
$(".sideing5").html(sideing5);
$(".side6").html(side6);
$(".sideing6").html(sideing6);

if (side7 === "undefined"){
  
} else {
  $(".side7").html(side7);
  $(".sideing7").html(sideing7);
}

if (side8 === "undefined"){
  
} else {
  $(".side8").html(side8);
  $(".sideing8").html(sideing8);
}
if (side9 === "undefined"){
  
} else {
  $(".side9").html(side9);
  $(".sideing9").html(sideing9);
}

//Deli and Soup
if (soup0 === "undefined"){
  
} else {
  $(".soup0").html(soup0);
  $(".souping0").html(souping0);
}
if (soup1 === "undefined"){
  
} else {
  $(".soup1").html(soup1);
  $(".souping1").html(souping1);
}
$(".soup0").html(soup0);
$(".souping0").html(souping0);
$(".deli0").html(deli0);
$(".deliing0").html(deliing0);
$(".deli1").html(deli1);
$(".deliing1").html(deliing1);
$(".deli2").html(deli2);
$(".deliing2").html(deliing2);
$(".deli3").html(deli3);
$(".deliing3").html(deliing3);
$(".deli4").html(deli4);
$(".deliing4").html(deliing4);

if (main0 == "undefined"){
  console.log("UHHHHHH")
} else{
  console.log("there is something")
  
}

});
</script>
<script>
console.log(istheresomething)
function sleep(ms) {
    return new Promise(resolve => setTimeout(resolve, ms));
}

async function demo() {
    for (let i = 0; i < 4; i++) {
        console.log(`Waiting ${i} seconds...`);
        await sleep(i * 1000);
    }
    console.log('Done');
	if (istheresomething == `true`){
    console.log("istheresomehting is true")
} else{
  window.location.replace("http://food.jackunderwood.org/welpgeegoshthereisanerror");
}
}
demo();
const container = document.getElementById('main0');

try { if (container.textContent.includes('a')) {
  console.log(' Melon is contained in element');
} else {
  console.log(' Melon is NOT contained in element');
}
} catch(e){
  console.log("s")
}
</script>
</body>
</html>
